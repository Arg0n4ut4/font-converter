# Font Converter (TTF -> WOFF2 subset)

CLI to convert `.ttf` to `.woff2` using `pyftsubset` (fontTools) with Brotli compression and subset `U+000-5FF` (ASCII + Latin-1 + common accents). Detects Google Fonts naming pattern (as of 2026-02-16) and organizes output by family.

## Libraries used

- fonttools (pyftsubset)
- brotli (WOFF2 compression)
- cx_Freeze (optional, for building the executable)

## Simple file map

- `main.py`: CLI entrypoint and menu.
- `functions/`: path handling, naming, conversion logic.
- `build_exe.py`: build script with cx_Freeze.
- `requirements.txt`: runtime/build dependencies.

## Preparing the source environment

Follow these steps to prepare a local Python development environment for the source code:

1. Create a virtual environment: `python -m venv .venv`
2. Activate the virtual environment: `.venv\Scripts\activate`
3. Install dependencies: `pip install -r requirements.txt`

The above ensures `fonttools` and `brotli` are available for `pyftsubset` and WOFF2 compression.

## Using the program (source or executable)

You can run the program either from source (`python main.py`) or using the built executable (`font-converter.exe`). Behavior is the same in both modes.

Run from source:

```bash
python main.py
```

On first run the application ensures the following folders exist beside the script or the executable: `fonts_ttf`, `font_lib`, `fonts_used`.

Main menu options (summary):

- `[1]` Convert and rename: scans `.ttf` files in `fonts_ttf`, groups them by detected family using the pattern `Family[_suffix]-WeightItalic` (Google Fonts style), and builds a conversion plan. For each family the app will ask once whether to drop a common `_suffix` (only when all family files share the same suffix). You may choose numeric weights (e.g. `900`) or textual weights (e.g. `Black`). Output `.woff2` files are written into `font_lib/<Family>/` and original `.ttf` files are moved to `fonts_used`.
- `[2]` Clear `fonts_used`: remove previously converted TTF files from `fonts_used`.
- `[3]` Help: show usage, naming rules, and subsetting details.
- `[0]` Exit.

Notes:

- If a family contains different suffixes (for example `Inter_24pt` and `Inter_28pt`), the suffixes are preserved to avoid filename collisions.
- You can keep `font_lib` and `fonts_used` in this repository as your local font library, or copy the results to your project folders as desired.

## Using the executable (Windows)

- After you build the executable (see next section), run `font-converter.exe`; behavior matches Python mode and folders are created beside the `.exe`.

## Build the executable (cx_Freeze)

1. Activate venv and ensure dependencies are installed (`pip install -r requirements.txt`).
2. Place `logo.ico` in the project root.
3. Run: `python build_exe.py build`
4. Use the binary at `build/exe.../font-converter.exe`.

## License

- Project code: MIT License (free to use, modify, and redistribute for any purpose). The full license text is available in the `licenses/` folder.

## Legal notice and best practices

- **User responsibility:** this tool automates font conversion and subsetting; users are solely responsible for ensuring they have permission to modify and redistribute any font files they process.
- **Do not include proprietary fonts in the repository:** do not commit or publish third-party font files in this repository.
- **Check font licenses:** before redistributing WOFF2 files generated by this tool, verify the font family's license (for example SIL OFL, Apache-2.0, or others) and comply with its terms.
- **Tool, not a font distributor:** this project provides only the conversion software; do not distribute collections of proprietary fonts together with this tool.

## Dependency licenses

- fonttools: MIT License.
- brotli: MIT License.
- cx_Freeze: MIT License (the frozen bootstrap included in the build contains an MIT notice).

Copies of the dependency licenses are provided in the `licenses/` folder.

Upstream project links:

- fonttools: https://github.com/fonttools/fonttools
- brotli: https://github.com/google/brotli
- cx_Freeze: https://github.com/marcelotduarte/cx_Freeze
